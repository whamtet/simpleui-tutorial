<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Simple UI</title>
	<meta name="title" content="Simple UI" />

	<!-- Open Graph / Facebook -->
	<meta property="og:type" content="website" />
	<meta property="og:title" content="Simple UI" />
	<meta property="og:image" content="https://simpleui.io/logo.svg" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="styles.css" rel="stylesheet">
	<link rel="icon" type="image/x-icon" href="logo_dark.svg">
</head>
<body hx-ext="htmx-test">
<!-- body width -->
<div class="xl:w-[1080px] lg:w-[980px] md:w-[700px] sm:w-[600px] w-full mx-auto">
	<!-- page 1 -->
	<div id="problem1" class="page border border-gray-300 rounded-md shadow-xl flex flex-wrap my-[2vh]">
		<!-- left half -->
		<div class="sm:w-1/2 w-full sm:border-r sm:border-b-0 border-b border-gray-300 min-h-[96vh]">
			<!-- header -->
			<div id="intro" class="p-3">
				<h4 class="text-2xl font-semibold mb-5">SPAs without Javascript</h4>
				<p class="mb-3">
					Did you know you can create Single Page Applications (SPAs) without Javascript?
				</p>
				<p class="mb-6">
					Try SimpleUI for a for a smoother, more productive workflow. Simple UI is based on Clojure,
					<a href="https://tryclojure.org" target="_blank">take a quick look</a>
					if you have not used Clojure before.
				</p>

				<button
					class="ml-6 rounded-lg bg-clj-blue py-3 px-6 font-sans text-xs font-bold uppercase text-white shadow-md shadow-clj-blue/20 transition-all hover:shadow-lg hover:shadow-clj-blue/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
					onclick="$('#subproblem1').classList.remove('hidden'); $('#intro').classList.add('hidden');"
				>
					Start Tutorial
				</button>

				<a
					href="http://whamtet.github.io/ctmx/"
					class="ml-6 rounded-lg bg-clj-green py-3 px-6 font-sans text-xs font-bold uppercase text-white shadow-md shadow-clj-green/20 transition-all hover:shadow-lg hover:shadow-clj-green/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
				>
					Docs
				</a>
			</div>
			<div id="subproblem1" class="p-3 hidden">
				<h4 class="text-2xl font-semibold mb-5">Display with Hiccup</h4>
				<p class="mb-3">
					Simple UI uses
					<a href="https://github.com/weavejester/hiccup" target="blank">hiccup</a>
					to render HTML server side.  Fix the code and run the tests.
				</p>

				<button
					id="tests0-run"
					class="mb-5 rounded-lg bg-red-500 py-3 px-6 font-sans text-xs font-bold uppercase text-white shadow-md shadow-red-500/20 transition-all hover:shadow-lg hover:shadow-red-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
					hx-post="main"
					hx-target="#output0"
					hx-after="#tests0"
					hx-swap="innerHTML"
				>
					Run tests
				</button>

				<p id="tests0-finish" class="hidden pb-5 mb-2">
					Good effort!
					<a
						href="#problem2"
						class="ml-6 rounded-lg bg-clj-green py-3 px-6 font-sans text-xs font-bold uppercase text-white shadow-md shadow-clj-green/20 transition-all hover:shadow-lg hover:shadow-clj-green/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
					>
						Next problem
					</a>
				</p>

				<div id="tests0" class="flex flex-col gap-2">
					<code>/*hl*/ let idElement = $('#my-id');</code>
					<div><code class="mr-3">/*hl*/ assert(exists(idElement))</code><span id="tests00"></span></div>
					<code>/*hl*/ let classElement = $('.my-class');</code>
					<div><code class="mr-3">/*hl*/ assert(exists(classElement))</code><span id="tests01"></span></div>
					<div><code class="mr-3">/*hl*/ assert(classElement.innerText === 'my text')</code><span id="tests02"></span></div>
				</div>

			</div>
		</div>
		<div class="sm:w-1/2 w-full p-3 min-h-[96vh]">

			<code class="border-b border-gray-300">Source</code>
			<div id="editor0" class="editor w-full h-1/2">(defcomponent ^:endpoint main [req]
  [:div#fix-my-id.and-my-class "fix my text"])
			</div>

  		<div class="border-b border-gray-300 mb-6">
	  		<code>Code Output</code>
  		</div>
			<div id="output0" class="output"> </div>
		</div>
	</div>

	<div
		id="problem2"
		class="page border border-gray-300 rounded-md shadow-xl flex flex-wrap my-[2vh]"
		title="Goodbye, Hello"
	>
		<!-- left half -->
		<div class="sm:w-1/2 w-full sm:border-r sm:border-b-0 border-b border-gray-300 min-h-[96vh]">
			<!-- header -->
			<div class="p-3">
  			<h4 class="text-2xl font-semibold mb-5">You say 'Goodbye' and I say 'Hello'</h4>
	  		  <p class="mb-3">
		  	    The key idea of SimpleUI is to expose UI components as endpoints.  Each one can update on
			  		its own, just as if it was a frontend component.  Unlike with frontend frameworks there
				  	is no js bundle because everything is rendered server side.
  				</p>
	  		  <p class="mb-3">
		  			Fix the code so that 'Goodbye' becomes 'Hello'.
			  	</p>

				<button
					id="tests1-run"
					class="mb-5 rounded-lg bg-red-500 py-3 px-6 font-sans text-xs font-bold uppercase text-white shadow-md shadow-red-500/20 transition-all hover:shadow-lg hover:shadow-red-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
					hx-post="main"
					hx-target="#output1"
					hx-after="#tests1"
					hx-swap="innerHTML"
				>
					Run tests
				</button>

				<p id="tests1-finish" class="hidden pb-5 mb-2">
					Good effort!
					<a
						href="#problem3"
						class="ml-6 rounded-lg bg-clj-green py-3 px-6 font-sans text-xs font-bold uppercase text-white shadow-md shadow-clj-green/20 transition-all hover:shadow-lg hover:shadow-clj-green/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
					>
						Next problem
					</a>
				</p>

				<div id="tests1" class="flex flex-col gap-2">
					<code>/*hl*/ let greetInput = $('#greet');</code>
					<div><code class="mr-3">/*hl*/ assert(exists(greetInput))</code><span id="tests10"></span></div>
					<code>/*hl*/ greetInput.value = 'Fred';</code>
					<div><code class="mr-3">/*hl*/ assert(exists('#submit-greeting'))</code><span id="tests11"></span></div>
					<code>/*hl*/ await click('#submit-greeting');</code>
					<code>/*hl*/ let responseDiv = $('#response');</code>
					<div><code class="mr-3">/*hl*/ assert(exists(responseDiv))</code><span id="tests12"></span></div>
					<div><code class="mr-3">/*hl*/ assert(responseDiv.innerText === 'Hello Fred')</code><span id="tests13"></span></div>
				</div>
			</div>
		</div>
		<div class="sm:w-1/2 w-full p-3 min-h-[96vh]">

			<code class="border-b border-gray-300">Source</code>
			<div id="editor1" class="editor w-full h-1/2">(defcomponent ^:endpoint greeting [req my-name]
 [:div#response "Goodbye " my-name])

(defcomponent ^:endpoint main [req]
 [:form {:hx-post "greeting" :hx-target "#response"}
  [:label "What is your name?"]
  [:input#greet {:type "text" :name "my-name"}]
  [:input#submit-greeting {:type "submit"}]
  (greeting req "")])
			</div>

			<div class="border-b border-gray-300 mb-6">
				<code>Code Output</code>
			</div>
			<div id="output1" class="output"> </div>
		</div>
	</div>
	<div
		id="problem3"
		class="page border border-gray-300 rounded-md shadow-xl flex flex-wrap my-[2vh]"
		title="HTMX Frontend"
	>
		<!-- left half -->
		<div class="sm:w-1/2 w-full sm:border-r sm:border-b-0 border-b border-gray-300 min-h-[96vh]">
			<!-- header -->
			<div class="p-3">
				<h4 class="text-2xl font-semibold mb-5">
					<a href="https://htmx.org" target="_blank">HTMX</a> Frontend
				</h4>
				<p class="mb-3">
					Htmx is what gives SimpleUI its superpowers. In particular you can use
					<a href="https://htmx.org/reference/#attributes" target="_blank">htmx attributes</a>
					which start with <b>hx-*</b> to control UI.
				</p>
				<p class="mb-5 pb-3 border-b border-gray-300">
					By default each <i>defcomponent</i> updates itself.
					Set <a href="https://htmx.org/attributes/hx-target/" target="_blank">hx-target</a> so that it updates the adjacent div instead.
					Tests will start when you click the button under <code>Code Output</code>.
				</p>

				<div
					id="tests2-run"
					hx-post="main"
					hx-target="#output2"
					hx-trigger="intersect,click delay:0.5s"
					hx-swap="innerHTML"
				>
				</div>

				<p id="tests2-finish" class="hidden pb-5 mb-2">
					Good effort!
					<a
						href="#problem4"
						class="ml-6 rounded-lg bg-clj-green py-3 px-6 font-sans text-xs font-bold uppercase text-white shadow-md shadow-clj-green/20 transition-all hover:shadow-lg hover:shadow-clj-green/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
					>
						Next problem
					</a>
				</p>

				<div id="tests2" class="flex flex-col gap-2">
					<code>/*hl*/ let subcomponents = $$('.subcomponent');</code>
					<div><code class="mr-3">/*hl*/ assert(subcomponents.length === 2)</code><span id="tests20"></span></div>
				</div>
			</div>
		</div>
		<div class="sm:w-1/2 w-full p-3 min-h-[96vh]">

			<code class="border-b border-gray-300">Source</code>
			<div id="editor2" class="editor w-full h-1/2" watch>(defcomponent ^:endpoint subcomponent [req]
  [:button.subcomponent {:hx-post "subcomponent"}
    "Click me"])

(defcomponent ^:endpoint main [req]
  [:div
    (subcomponent req)
    [:div#update-me "Update me instead!"]])
			</div>

			<div class="border-b border-gray-300 mb-6">
				<code>Code Output</code>
			</div>
			<div id="output2" class="output" hx-after="#tests2"> </div>
		</div>
	</div>
	<div
		id="problem4"
		class="page border border-gray-300 rounded-md shadow-xl flex flex-wrap my-[2vh]"
		title="Casting"
	>
		<!-- left half -->
		<div class="sm:w-1/2 w-full sm:border-r sm:border-b-0 border-b border-gray-300 min-h-[96vh]">
			<!-- header -->
			<div class="p-3">
				<h4 class="text-2xl font-semibold mb-5">
					Casting Arguments
				</h4>
				<p class="mb-3">
					By default SimpleUI submits http parameters with regular url encoding so that they appear
					as strings on the server.  It can be convenient to
					<a href="https://whamtet.github.io/ctmx/doc/#parameter-casting"
						 target="_blank">cast</a> to other forms such as <code>^:long</code> or <code>^:boolean</code> when needed.
				</p>
				<p class="mb-3">
					Update the code so that the button increments the counter instead of decrementing it.
				</p>

				<button
					id="tests3-run"
					class="mb-5 rounded-lg bg-red-500 py-3 px-6 font-sans text-xs font-bold uppercase text-white shadow-md shadow-red-500/20 transition-all hover:shadow-lg hover:shadow-red-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
					hx-post="main"
					hx-target="#output3"
					hx-after="#tests3"
					hx-swap="innerHTML"
				>
					Run tests
				</button>

				<div id="tests3-finish" class="hidden pb-5 mb-2">
					<div class="mb-4">
						Great job.  Try hitting Submit a few more times to see how it works.
					</div>
					<a
						href="#problem5"
						class="rounded-lg bg-clj-green py-3 px-6 font-sans text-xs font-bold uppercase text-white shadow-md shadow-clj-green/20 transition-all hover:shadow-lg hover:shadow-clj-green/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
					>
						Next problem
					</a>
				</div>

				<div id="tests3" class="flex flex-col gap-2">
					<code>/*hl*/ for (let i = 0; i < 5; i++) {</code>
					<code>/*hl*/   await click($('#change-number'));</code>
					<code>/*hl*/ }</code>
					<code>/*hl*/ const finalValue = $('#curr-value').innerText;</code>
					<div><code class="mr-3">/*hl*/ assert(finalValue === '10')</code><span id="tests30"></span></div>
				</div>
			</div>
		</div>
		<div class="sm:w-1/2 w-full p-3 min-h-[96vh]">

			<code class="border-b border-gray-300">Source</code>
			<div id="editor3" class="editor w-full h-1/2">(defcomponent ^:endpoint main [req ^:long count]
  (let [count (or count 5)] ;; default
    [:form {:hx-post "main"}
      [:div#curr-value count]
      [:input {:type "hidden" :name "count" :value (dec count)}]
      [:input#change-number {:type "submit"}]]))
			</div>

			<div class="border-b border-gray-300 mb-6">
				<code>Code Output</code>
			</div>
			<div id="output3" class="output"> </div>
		</div>
	</div>
	<div
		id="problem5"
		class="page border border-gray-300 rounded-md shadow-xl flex flex-wrap my-[2vh]"
		title="Journey in the Dark"
	>
		<!-- left half -->
		<div class="sm:w-1/2 w-full sm:border-r sm:border-b-0 border-b border-gray-300 min-h-[96vh]">
			<!-- header -->
			<div class="p-3">
				<h4 class="text-2xl font-semibold mb-5">
					A Journey in the Dark
				</h4>
				<p class="mb-3">
					<i>The Doors of Durin, Lord of Moria. Speak, friend, and enter.</i>
				</p>
				<p class="mb-5 text-xs">
					I, Narvi, made them.  Celebrimbor of Hollin drew these signs.
				</p>

				<button
					id="tests4-run"
					class="mb-5 rounded-lg bg-red-500 py-3 px-6 font-sans text-xs font-bold uppercase text-white shadow-md shadow-red-500/20 transition-all hover:shadow-lg hover:shadow-red-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
					hx-post="main"
					hx-target="#output4"
					hx-after="#tests4"
					hx-swap="innerHTML"
					hx-trigger="intersect,click"
				>
					Run tests
				</button>

				<p id="tests4-finish" class="hidden pb-5 mb-2">
					Good effort!
					<a
						href="#end"
						class="ml-6 rounded-lg bg-clj-green py-3 px-6 font-sans text-xs font-bold uppercase text-white shadow-md shadow-clj-green/20 transition-all hover:shadow-lg hover:shadow-clj-green/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
					>
						Enter the mines
					</a>
				</p>

				<div id="tests4" class="flex flex-col gap-2">
					<div><code class="mr-3">/*hl*/ assert(exists('#password'))</code><span id="tests40"></span></div>
					<code>/*hl*/ $('#password').value = 'Edro, edro!';</code>
					<div><code class="mr-3">/*hl*/ assert(exists('#speak'))</code><span id="tests41"></span></div>
					<code>/*hl*/ await click('#speak');</code>
					<div><code class="mr-3">/*hl*/ assert(src('.door') === '/moria_closed.jpg')</code><span id="tests42"></span></div>
					<code>/*hl*/ $('#password').value = 'Mellon!'</code>
					<code>/*hl*/ await click('#speak');</code>
					<div><code class="mr-3">/*hl*/ assert(src('.door') === '/moria_open.gif')</code><span id="tests43"></span></div>
				</div>
			</div>
		</div>

		<div class="sm:w-1/2 w-full p-3 h-[700px]">

			<code class="border-b border-gray-300">Source</code>
			<div id="editor4" class="editor w-full h-[230px]">(def moria-closed [:img.door {:src "/moria_closed.jpg"}])
(def moria-open [:img.door {:src "/moria_open.gif"}])

(defcomponent ^:endpoint main [req password]
  [:form {:hx-post "main"}
    moria-closed
    [:input#password {:type "text"
                      :name "password"
                      :value password}]
    [:input#speak {:type "submit"}]])
</div>

			<div class="border-b border-gray-300 mb-6">
				<code>Code Output</code>
			</div>
			<div id="output4" class="output"> </div>
		</div>
	</div>
	<div
		id="end"
		class="page border border-gray-300 rounded-md shadow-xl flex flex-wrap my-[2vh]"
	>
		<!-- left half -->
		<div class="sm:w-1/2 w-full sm:border-r sm:border-b-0 border-b border-gray-300 min-h-[96vh]">
			<!-- header -->
			<div class="p-3">
				<h4 class="text-2xl font-semibold mb-5">
					Next Steps
				</h4>
				<p class="mb-3">
					Try setting up your own project!
					The Kit framework provides an excellent starting point, follow the instructions
					<a href="https://whamtet.github.io/ctmx/#getting-started" target="_blank">here</a>.
				</p>
				<p class="mb-3">
					SimpleUI advertises as Javascript free, however this tutorial makes a small exception
					to safely execute unknown code.  Read the details in the
					<a href="https://github.com/whamtet/simpleui-tutorial" target="_blank">source</a>.
				</p>

			</div>
		</div>
		<div class="sm:w-1/2 w-full p-3 min-h-[96vh]">

			<div class="p-3">
				<h4 class="text-2xl font-semibold mb-3">
					Simple Made Easy
				</h4>
				<p class="mb-3">
					A great talk.
				</p>
			</div>

			<iframe class="w-full" height="315" src="https://www.youtube-nocookie.com/embed/SxdOUGdseq4?si=BTA5MdawOS53iPF5" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

		</div>
	</div>
</div>
<script src="router.js"></script>
<script src="https://unpkg.com/htmx.org@1.9.8"></script>
<script src="htmx-test.js"></script>
<script src="ace.js" type="text/javascript" charset="utf-8"></script>
<script src="tests.js"></script>
<script src="editors.js"></script>
</body>
</html>
